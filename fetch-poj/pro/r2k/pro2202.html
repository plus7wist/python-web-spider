<h2 align="center">Strange Graph</h2></div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 10000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 741</td><td width="10px"></td><td><b>Accepted:</b> 151</td></tr><tr><td style="color:#0ead00"><b>Case Time Limit:</b> 2000MS</td><td width="10px"></td><td style="font-weight:bold; color:red;">Special Judge</td></tr></table></div><h3>Description</h3><div class="ptx" lang="en-US">Let us consider an undirected graph G = < V,E >. Let us denote by N(v) the set of vertices connected to vertex v (i.e. the set of neighbours of v). Recall that the number of vertices connected to v is called the degree of this vertex and is denoted by deg v.<br>We will call graph G strange if it is connected and for its every vertex v the following conditions are satisfied:<br><blockquote>1. deg v >= 2 (i.e. there are at least two vertices connected to v)<br>2. If deg v = 2 then the two neighbours of v are not connected by an edge<br>3. If degv > 2 then there is u ∈ N(v), such that the following is true:<br><blockquote>(a) deg u = 2<br>(b) Any two different vertices w1,w2 ∈ N(v) \ {u} are connected, i.e. (w1,w2) ∈ E.</blockquote></blockquote><br>You are given some strange graph G. Find hamiltonian cycle in it, i.e. find such cycle that it goes through every vertex of G exactly once.</div><h3>Input</h3><div class="ptx" lang="en-US">The first line of the input file contains two integer numbers N and M -- the number of vertices and edges in G respectively (3 <= N <= 10 000, M <= 100 000). 2M integer numbers follow -- each pair represents vertices connected by the corresponding edge (vertices are numbered from 1 to N). It is guaranteed that each edge occurs exactly once in the input file and that there are no loops (i.e. ends of each edge are distinct).</div><h3>Output</h3><div class="ptx" lang="en-US">If there is no hamiltonian cycle in G, print -1 on the first line of the output file. In the other case output N numbers -- the sequence of vertices of G as they appear in the hamiltonian cycle found (note that the last vertex must be connected to the first one). If there are several solutions, output any one.</div><h3>Sample Input</h3><pre class="sio">4 4
1 2 2 3 3 4 4 1</pre><h3>Sample Output</h3><pre class="sio">1 2 3 4</pre><h3>Source</h3><div class="ptx" lang="en-US"><a>Northeastern Europe 2002</a>, Northern Subregion</div></td></tr></table>
