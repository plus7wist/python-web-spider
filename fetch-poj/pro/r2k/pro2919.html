<h2 align="center">Traveling Queen Problem</h2></div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 5000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 510</td><td width="10px"></td><td><b>Accepted:</b> 126</td></table></div><h3>Description</h3><div class="ptx" lang="en-US"><p>Black has been defeated and the white army has won, but unfortunately the white king has been killed in the fight, and so the white queen is looking for a new mate. She is unsure whom of the knights to marry and has decided to visit them all. Afterwards she plans to see the bishop to arrange for the marriage.</p><br><center><img src=images/2919_1.png></center><br><p>Given a chessboard with the current situation, find the shortest number of moves such that the queen visits every knight and, finally, visits the bishop.</p><p>The queen visits by standing on one of the (at most) eight neighbouring squares and she does not necessarily have to move between two visits. For each move the queen can go an arbitrary number of squares in one of the eight directions (horizontal, vertical or diagonal). No move may pass through or stop at a non-empty square.</p></div><h3>Input</h3><div class="ptx" lang="en-US"><span lang="en-us"><p>The first line contains the number of scenarios. Each scenario consists of a chessboard description. The rows <tt>8</tt>, &hellip;, <tt>1</tt> are given in this order, one line per row. Each line contains 8 characters to represent the squares at columns <tt>a</tt>, &hellip;, <tt>h</tt> of this row. Each description is followed by an empty line.</p><p>There is one character <tt>Q</tt> to denote the starting position of the queen, and one <tt>B</tt> to denote the square on which the bishop stands. There is an arbitrary number of pawns, given as <tt>P</tt>, who simply block movement, as well as 2&ndash;14 knights denoted as <tt>N</tt>. All other squares are given as &lsquo;.&rsquo; and are empty.</p></span></div><h3>Output</h3><div class="ptx" lang="en-US"><span lang="en-us"><p>The output for every scenario begins with a line containing &ldquo;<tt>Scenario #</tt><i>i</i><tt>:</tt>&rdquo;, where <i>i</i> is the number of the scenario starting at 1.</p><p>Then print the <i>lexicographical first</i> path that contains the minimal number of moves, ends adjacent to the bishop and visits each knight at least once. The path shall be given on a single line by concatenating in order the names of the squares on which the queen stands. Each square name consists of a small letter followed by a decimal digit. If no such path exists, output &ldquo;<tt>impossible</tt>&rdquo; on a single line. Terminate the output for the scenario with a blank line.</p></span></div><h3>Sample Input</h3><pre class="sio">2
.......Q
...P.P..
...PNP..
..NP.P..
........
........
..B.....
........

B.P.....
..P.....
PPP..N..
........
........
.N...Q..
........
........</pre><h3>Sample Output</h3><pre class="sio">Scenario #1:
h8h2e5d4b2

Scenario #2:
impossible</pre><h3>Source</h3><div class="ptx" lang="en-US"><a>TUD Programming Contest 2006</a>, Darmstadt, Germany</div></td></tr></table>
