<h2 align="center">Katu Puzzle</h2></div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 9275</td><td width="10px"></td><td><b>Accepted:</b> 3455</td></table></div><h3>Description</h3><div class="ptx" lang="en-US"><div><p>Katu Puzzle is presented as a directed graph <i>G</i>(<i>V</i>, <i>E</i>) with each edge <i>e</i>(<i>a</i>,<i> b</i>) labeled by a boolean operator <i>op</i> (one of AND, OR, XOR) and an integer <i>c</i> (0 ≤ <i>c</i> ≤ 1). One Katu is solvable if one can find each vertex <i>V<sub>i</sub></i> a value <i>X<sub>i</sub></i> (0 ≤ <i>X<sub>i </sub></i>≤ 1) such that for each edge <i>e</i>(<i>a</i>,<i> b</i>) labeled by <i>op</i> and <i>c</i>, the following formula holds:</p><p>&nbsp;<i>X<sub>a</sub></i> <i>op</i> <i>X<sub>b</sub></i> = <i>c</i></p><p>The calculating rules are:</p><table border="1" width="42%" id="table1"><tr><td width="112"><table border="1" width="100%" id="table2"><tr><td width="28">AND</td><td width="32">0</td><td>1</td></tr><tr><td width="28">0</td><td width="32">0</td><td>0</td></tr><tr><td width="28">1</td><td width="32">0</td><td>1</td></tr></table></td><td width="106"><table border="1" width="100%" id="table3"><tr><td width="26">OR</td><td width="30">0</td><td>1</td></tr><tr><td width="26">0</td><td width="30">0</td><td>1</td></tr><tr><td width="26">1</td><td width="30">1</td><td>1</td></tr></table></td><td><table border="1" width="100%" id="table4"><tr><td width="38">XOR</td><td>0</td><td>1</td></tr><tr><td width="38">0</td><td>0</td><td>1</td></tr><tr><td width="38">1</td><td>1</td><td>0</td></tr></table></td></tr></table><p>Given a Katu Puzzle, your task is to determine whether it is solvable.</p></div></div><h3>Input</h3><div class="ptx" lang="en-US"><p>The first line contains two integers <i>N</i> (1 ≤ <i>N</i> ≤ 1000) and <i>M</i>,(0 ≤ <i>M</i> ≤ 1,000,000) indicating the number of vertices and edges.<br>The following <i>M</i> lines contain three integers <i>a </i>(0 ≤ <i>a</i> &lt; <i>N</i>), <i>b</i>(0 ≤ <i>b</i> &lt; <i>N</i>), <i>c</i> and an operator <i>op</i> each, describing the edges. </p></div><h3>Output</h3><div class="ptx" lang="en-US"><p>Output a line containing &quot;YES&quot; or &quot;NO&quot;.</p></div><h3>Sample Input</h3><pre class="sio">4 4
0 1 1 AND
1 2 1 OR
3 2 0 AND
3 0 0 XOR</pre><h3>Sample Output</h3><pre class="sio">YES</pre><h3>Hint</h3><div class="ptx" lang="en-US"><i>X</i><sub>0</sub> = 1, <i>X</i><sub>1</sub> = 1, <i>X</i><sub>2</sub> = 0, <i>X</i><sub>3</sub> = 1.</div><h3>Source</h3><div class="ptx" lang="en-US"><a>POJ Founder Monthly Contest – 2008.07.27</a>, Dagger</div></td></tr></table>
